include ../makefile.inc

# LANG
# LC_KOR 0
# LC_TWN 1
# LC_CHN 3
# LC_TLD 4
# LC_JPN 6
# LC_JPNEP 6
# LC_MAL 7
# LC_USA 9
# LC_BRZ 10
# LC_HBK 11
# LC_GER 13
# LC_SPN 14
# LC_FRC 15
# LC_PLD 16
# LC_RUS 17
# LC_TUR 18
# LC_ITA 19
# LC_MEX 20
# LC_ESP_USA 21
# LC_FRA_USA 22
# LC_NLD 23
# LC_UK 24

TARGET=GameServer

TARGET_DEBUG=$(TARGET)_d
TARGET_TEST=$(TARGET)_t
TARGET_TESTDEBUG=$(TARGET)_td
TARGET_QA=$(TARGET)_q
TARGET_QADEBUG=$(TARGET)_qd
TARGET_NOXTRAP=$(TARGET)_noxtrap

LC_SRCS=$(wildcard *.cpp)
LC_OBJS=$(patsubst %.cpp,%.o,$(LC_SRCS))

ifeq ($(LOCAL_PUB), gamigo)
OPT_LDOBJ += -ldl
endif

ifeq ($(LOCAL_PUB), rus)
OPT_LDOBJ += -ldl
endif

ifeq ($(LOCAL_PUB), usa)
OPT_LDOBJ += -ldl
endif

ifeq ($(LOCAL_PUB), bila)
OPT_LDOBJ += -ldl
endif

CXXFLAGS += -D__GAME_SERVER__

all: kor


kor:
	OPT_LANG=-DLC_KOR=0 OPT_TEST=-DELENOATEST $(MAKE) $(TARGET)

kordebug:
	OPT_LANG=-DLC_KOR=0 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

kortest:
	OPT_LANG=-DLC_KOR=0 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

korqa:
	OPT_LANG=-DLC_KOR=0 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QA)

kortestdebug:
	OPT_LANG=-DLC_KOR=0 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

korqadebug:
	OPT_LANG=-DLC_KOR=0 OPT_DEBUG=-g OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QADEBUG)

kordep:
	OPT_LANG=-DLC_KOR=0 $(MAKE) lcdep



twn:
	OPT_LANG=-DLC_TWN=1 $(MAKE) $(TARGET)

twndebug:
	OPT_LANG=-DLC_TWN=1 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

twntest:
	OPT_LANG=-DLC_TWN=1 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

twntestdebug:
	OPT_LANG=-DLC_TWN=1 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

twndep:
	OPT_LANG=-DLC_TWN=1 $(MAKE) lcdep



jpn:
	OPT_LANG=-DLC_JPN=6 $(MAKE) $(TARGET)

jpndebug:
	OPT_LANG=-DLC_JPN=6 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

jpntest:
	OPT_LANG=-DLC_JPN=6 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

jpntestdebug:
	OPT_LANG=-DLC_JPN=6 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

jpndep:
	OPT_LANG=-DLC_JPN=6 $(MAKE) lcdep



jpnep:
	OPT_LANG=-DLC_JPN_EP=6 $(MAKE) $(TARGET)

jpnepdebug:
	OPT_LANG=-DLC_JPN_EP=6 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

jpneptest:
	OPT_LANG=-DLC_JPN_EP=6 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

jpneptestdebug:
	OPT_LANG=-DLC_JPN_EP=6 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

jpnepdep:
	OPT_LANG=-DLC_JPN_EP=6 $(MAKE) lcdep



tld:
	OPT_LANG=-DLC_TLD=4 $(MAKE) $(TARGET)

tlddebug:
	OPT_LANG=-DLC_TLD=4 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

tldtest:
	OPT_LANG=-DLC_TLD=4 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

tldqa:
	OPT_LANG=-DLC_TLD=4 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QA)

tldtestdebug:
	OPT_LANG=-DLC_TLD=4 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

tldqadebug:
	OPT_LANG=-DLC_TLD=4 OPT_DEBUG=-g OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QADEBUG)

tlddep:
	OPT_LANG=-DLC_TLD=4 $(MAKE) lcdep



mal:
	OPT_LANG=-DLC_MAL=7 $(MAKE) $(TARGET)

maldebug:
	OPT_LANG=-DLC_MAL=7 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

maltest:
	OPT_LANG=-DLC_MAL=7 OPT_TEST=-DMAL_TEST_SERVER $(MAKE) $(TARGET_TEST)

maltestdebug:
	OPT_LANG=-DLC_MAL=7 OPT_DEBUG=-g OPT_TEST=-DMAL_TEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

maldep:
	OPT_LANG=-DLC_MAL=7 $(MAKE) lcdep



usa:
	LOCAL_PUB=usa OPT_LANG=-DLC_USA=9 $(MAKE) $(TARGET)

usadebug:
	LOCAL_PUB=usa OPT_LANG=-DLC_USA=9 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

usatest:
	LOCAL_PUB=usa OPT_LANG=-DLC_USA=9 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

usaqa:
	LOCAL_PUB=usa OPT_LANG=-DLC_USA=9 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QA)

usatestdebug:
	LOCAL_PUB=usa OPT_LANG=-DLC_USA=9 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

usaqadebug:
	LOCAL_PUB=usa OPT_LANG=-DLC_USA=9 OPT_DEBUG=-g OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QADEBUG)

usadep:
	LOCAL_PUB=usa OPT_LANG=-DLC_USA=9 $(MAKE) lcdep



brz:
	LOCAL_PUB=bila OPT_LANG=-DLC_BRZ=10 $(MAKE) $(TARGET)

brzdebug:
	LOCAL_PUB=bila OPT_LANG=-DLC_BRZ=10 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

brztest:
	LOCAL_PUB=bila OPT_LANG=-DLC_BRZ=10 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

brztestdebug:
	LOCAL_PUB=bila OPT_LANG=-DLC_BRZ=10 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

brzdep:
	LOCAL_PUB=bila OPT_LANG=-DLC_BRZ=10 $(MAKE) lcdep



brzep:
	OPT_LANG=-DLC_BRZ_EP=10 $(MAKE) $(TARGET)

brzepdebug:
	OPT_LANG=-DLC_BRZ_EP=10 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

brzeptest:
	OPT_LANG=-DLC_BRZ_EP=10 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

brzeptestdebug:
	OPT_LANG=-DLC_BRZ_EP=10 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

brzepdep:
	OPT_LANG=-DLC_BRZ_EP=10 $(MAKE) lcdep



hbk:
	OPT_LANG=-DLC_HBK=11 $(MAKE) $(TARGET) 

hbkdebug:
	OPT_LANG=-DLC_HBK=11 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG) 

hbktest:
	OPT_LANG=-DLC_HBK=11 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST) 

hbkqa:
	OPT_LANG=-DLC_HBK=11 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QA) 

hbktestdebug:
	OPT_LANG=-DLC_HBK=11 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG) 

hbkqadebug:
	OPT_LANG=-DLC_HBK=11 OPT_DEBUG=-g OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QADEBUG) 

hbkdep:
	OPT_LANG=-DLC_HBK=11 $(MAKE) lcdep 




ger:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 $(MAKE) $(TARGET)

gerdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

gertest:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

gertestdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

gerdep:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 $(MAKE) lcdep

gernoxtrap:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)



gerqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET)

gerdebugqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

gerdepqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_TEST=-DQA_SERVER $(MAKE) lcdep

gernoxtrapqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_GER=13 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)



spn:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 $(MAKE) $(TARGET)

spndebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

spntest:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

spntestdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

spndep:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 $(MAKE) lcdep

spnnoxtrap:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)



spnqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET)

spndebugqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

spndepqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_TEST=-DQA_SERVER $(MAKE) lcdep

spnnoxtrapqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_SPN=14 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)




frc:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 $(MAKE) $(TARGET)

frcdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

frctest:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

frctestdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

frcdep:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 $(MAKE) lcdep

frcnoxtrap:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)




frcqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET)

frcdebugqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

frcdepqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_TEST=-DQA_SERVER $(MAKE) lcdep

frcnoxtrapqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_FRC=15 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)



pld:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 $(MAKE) $(TARGET)

plddebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

pldtest:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

pldtestdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

plddep:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 $(MAKE) lcdep

pldnoxtrap:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)



pldqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET)

plddebugqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

plddepqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_TEST=-DQA_SERVER $(MAKE) lcdep

pldnoxtrapqa:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_PLD=16 OPT_TEST=-DQA_SERVER OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)



rus:
	LOCAL_PUB=rus OPT_LANG=-DLC_RUS=17 $(MAKE) $(TARGET)

rusdebug:
	LOCAL_PUB=rus OPT_LANG=-DLC_RUS=17 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

rustest:
	LOCAL_PUB=rus OPT_LANG=-DLC_RUS=17 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

rusqa:
	LOCAL_PUB=rus OPT_LANG=-DLC_RUS=17 OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QA)

rustestdebug:
	LOCAL_PUB=rus OPT_LANG=-DLC_RUS=17 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

rusqadebug:
	LOCAL_PUB=rus OPT_LANG=-DLC_RUS=17 OPT_DEBUG=-g OPT_TEST=-DQA_SERVER $(MAKE) $(TARGET_QADEBUG)

rusdep:
	LOCAL_PUB=rus OPT_LANG=-DLC_RUS=17 $(MAKE) lcdep



tur:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_TUR=18 $(MAKE) $(TARGET)

turdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_TUR=18 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

turtest:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_TUR=18 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

turtestdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_TUR=18 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

turdep:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_TUR=18 $(MAKE) lcdep
turnoxtrap:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_TUR=18 OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)


ita:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_ITA=19 $(MAKE) $(TARGET)

itadebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_ITA=19 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

itatest:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_ITA=19 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

itatestdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_ITA=19 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

itadep:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_ITA=19 $(MAKE) lcdep

itanoxtrap:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_ITA=19 OPT_DEBUG=-g $(MAKE) $(TARGET_NOXTRAP)


mex:
	LOCAL_PUB=bila OPT_LANG=-DLC_MEX=20 $(MAKE) $(TARGET)

mexdebug:
	LOCAL_PUB=bila OPT_LANG=-DLC_MEX=20 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

mextest:
	LOCAL_PUB=bila OPT_LANG=-DLC_MEX=20 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

mextestdebug:
	LOCAL_PUB=bila OPT_LANG=-DLC_MEX=20 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

mexdep:
	LOCAL_PUB=bila OPT_LANG=-DLC_MEX=20 $(MAKE) lcdep




mexep:
	OPT_LANG=-DLC_MEX_EP=20 $(MAKE) $(TARGET)

mexepdebug:
	OPT_LANG=-DLC_MEX_EP=20 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

mexeptest:
	OPT_LANG=-DLC_MEX_EP=20 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

mexeptestdebug:
	OPT_LANG=-DLC_MEX_EP=20 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

mexepdep:
	OPT_LANG=-DLC_MEX_EP=20 $(MAKE) lcdep



espusa:
	OPT_LANG=-DLC_ESP_USA=21 $(MAKE) $(TARGET)

espusadebug:
	OPT_LANG=-DLC_ESP_USA=21 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

espusatest:
	OPT_LANG=-DLC_ESP_USA=21 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

espusatestdebug:
	OPT_LANG=-DLC_ESP_USA=21 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

espusadep:
	OPT_LANG=-DLC_ESP_USA=21 $(MAKE) lcdep


	

frausa:
	OPT_LANG=-DLC_FRA_USA=22 $(MAKE) $(TARGET)

frausadebug:
	OPT_LANG=-DLC_FRA_USA=22 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

frausatest:
	OPT_LANG=-DLC_FRA_USA=22 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

frausatestdebug:
	OPT_LANG=-DLC_FRA_USA=22 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

frausadep:
	OPT_LANG=-DLC_FRA_USA=22 $(MAKE) lcdep



nld:
	OPT_LANG=-DLC_NLD=23 $(MAKE) $(TARGET)

nlddebug:
	OPT_LANG=-DLC_NLD=23 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

nldtest:
	OPT_LANG=-DLC_NLD=23 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

nldtestdebug:
	OPT_LANG=-DLC_NLD=23 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

nlddep:
	OPT_LANG=-DLC_NLD=23 $(MAKE) lcdep



world:
	OPT_LANG=-DLC_USA=9 OPT_DEF=-DWORLD_TOURNAMENT=100 $(MAKE) $(TARGET)

worlddebug:
	OPT_LANG=-DLC_USA=9 OPT_DEF=-DWORLD_TOURNAMENT=100 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)

worldtest:
	OPT_LANG=-DLC_USA=9 OPT_DEF=-DWORLD_TOURNAMENT=100 OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TEST)

worldtestdebug:
	OPT_LANG=-DLC_USA=9 OPT_DEF=-DWORLD_TOURNAMENT=100 OPT_DEBUG=-g OPT_TEST=-DTEST_SERVER $(MAKE) $(TARGET_TESTDEBUG)

worlddep:
	OPT_LANG=-DLC_USA=9 OPT_DEF=-DWORLD_TOURNAMENT=100 $(MAKE) lcdep

uk:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_UK=24 $(MAKE) $(TARGET)

ukdebug:
	LOCAL_PUB=gamigo OPT_LANG=-DLC_UK=24 OPT_DEBUG=-g $(MAKE) $(TARGET_DEBUG)
	

$(TARGET): $(LC_OBJS)
	$(CXX) -o $@ $(OPT_LINK) $(LC_OBJS) $(OPT_LDOBJ)

$(TARGET_DEBUG): $(LC_OBJS)
	$(CXX) -o $@ $(OPT_LINK) $(LC_OBJS) $(OPT_LDOBJ)

$(TARGET_TEST): $(LC_OBJS)
	$(CXX) -o $@ $(OPT_LINK) $(LC_OBJS) $(OPT_LDOBJ)

$(TARGET_TESTDEBUG): $(LC_OBJS)
	$(CXX) -o $@ $(OPT_LINK) $(LC_OBJS) $(OPT_LDOBJ)

$(TARGET_QA):$(LC_OBJS)
	$(CXX) -o $@ $(LC_OBJS) $(OPT_LDOBJ)

$(TARGET_QADEBUG): $(LC_OBJS)
	$(CXX) -o $@ $(LC_OBJS) $(OPT_LDOBJ)

$(TARGET_NOXTRAP): $(LC_OBJS)
	$(CXX) -o $@ $(OPT_LINK) $(LC_OBJS) $(OPT_LDOBJ)

.cpp .o:
	$(CXX) -D__GAME_SERVER__ -c $(CFLAGS) $(CXXFLAGS) -o $@ $(patsubst %.o,%.cpp,$@)

lcdep: $(LC_SRCS)
	$(CXX) $(CXXFLAGS) $(OPT_LANG) -M $(LC_SRCS) > .depend

clean:
	rm -rf $(LC_OBJS)


cleanall:
	find . -name "*.o" -exec rm -rf {} \;
	rm -rf $(TARGET) $(TARGET_DEBUG) $(TARGET_TEST) $(TARGET_TESTDEBUG) $(TARGET_QA) $(TARGET_QADEBUG)

ifeq (.depend,$(wildcard .depend))
include .depend
endif
